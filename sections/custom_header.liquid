<div
  class="site-header"
  {% if section.settings.sticky_header %}
    data-sticky-header
  {% endif %}
  style="height: {{ section.settings.header_height }}px; background-color: {{ section.settings.background_color }}; color: {{ section.settings.text_color }};"
>
  <div class="header-container">
    <div class="header-inner">
      <!-- STORE NAME / LOGO -->
      <div class="header-logo">
        {% if section.settings.logo != blank %}
          <a href="{{ routes.root_url }}">
            <img
              src="{{ section.settings.logo | image_url: width: 150 }}"
              alt="{{ section.settings.header_title }}"
              width="150"
              height="auto"
            >
          </a>
        {% else %}
          <a href="{{ routes.root_url }}">
            <h1>{{ section.settings.header_title }}</h1>
          </a>
        {% endif %}
      </div>
      <!-- NAVIGATION MENU -->
      <nav class="header-nav">
        {% for link in linklists[section.settings.menu].links %}
          {% if link.links != blank %}
            <div class="nav-item">
              <button type="button" class="nav-button">
                {{ link.title }}
                <svg width="14" height="14" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M5.7 9.7a1 1 0 0 0 0 1.4l4.9 4.9a2 2 0 0 0 2.8 0l4.9-4.9a1 1 0 1 0-1.4-1.4l-4.1 4.1a.5.5 0 0 1-.7 0L7.1 9.7a1 1 0 0 0-1.4 0Z" fill="currentColor"/>
                </svg>
              </button>

              <div class="dropdown-wrapper">
                <div class="dropdown-box">
                  <div class="dropdown-grid">
                    {% for childlink in link.links %}
                      <a href="{{ childlink.url }}" class="dropdown-link">
                        <div class="dropdown-text">
                          <p>{{ childlink.title }}</p>
                        </div>
                      </a>
                    {% endfor %}
                  </div>
                </div>
              </div>
            </div>

          {% else %}
            <a
              href="{{ link.url }}"
              class="{% if link.active %}text-danger{% endif %}"
            >
              {{ link.title }}
            </a>
          {% endif %}
        {% endfor %}
      </nav>
      <!-- MOBILE HAMBURGER -->
      <div class="mobile-menu-button">
        <button type="button" class="nav-button" id="openMobileMenu" aria-label="Open menu">
          <svg width="20px" height="20px" viewBox="0 -0.5 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M5.5 7.75C5.08579 7.75 4.75 8.08579 4.75 8.5C4.75 8.91421 5.08579 9.25 5.5 9.25V7.75ZM19.5 9.25C19.9142 9.25 20.25 8.91421 20.25 8.5C20.25 8.08579 19.9142 7.75 19.5 7.75V9.25ZM5.5 11.75C5.08579 11.75 4.75 12.0858 4.75 12.5C4.75 12.9142 5.08579 13.25 5.5 13.25V11.75ZM17.5 13.25C17.9142 13.25 18.25 12.9142 18.25 12.5C18.25 12.0858 17.9142 11.75 17.5 11.75V13.25ZM5.5 15.75C5.08579 15.75 4.75 16.0858 4.75 16.5C4.75 16.9142 5.08579 17.25 5.5 17.25V15.75ZM12.5 17.25C12.9142 17.25 13.25 16.9142 13.25 16.5C13.25 16.0858 12.9142 15.75 12.5 15.75V17.25ZM5.5 9.25H19.5V7.75H5.5V9.25ZM5.5 13.25H17.5V11.75H5.5V13.25ZM5.5 17.25H12.5V15.75H5.5V17.25Z" fill="#000000"></path> </g>
          </svg>
        </button>
      </div>
      <!-- RIGHT SIDE LINKS -->
      <div class="header-actions">
        <a href="{{ routes.search_url }}">
          <svg width="22px" height="22px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M11 6C13.7614 6 16 8.23858 16 11M16.6588 16.6549L21 21M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g>
          </svg>
        </a>
        {% if section.settings.show_cart %}
          <a href="{{ routes.cart_url }}" class="icon-link">
            <img
              src="{{ 'icon-cart.svg' | asset_url }}"
              alt="Cart"
              width="33"
              height="33"
            >
            {% if cart.item_count > 0 %}
              <span class="cart-count">{{ cart.item_count }}</span>
            {% endif %}
          </a>
        {% endif %}
        {% if section.settings.show_account_links %}
          <a href="{{ routes.account_login_url }}"> Login </a>
          <a href="{{ routes.account_register_url }}" class="text-link">Register</a>
        {% endif %}
      </div>
    </div>
  </div>
</div>
<!-- MOBILE MENU -->
<div id="mobileMenu" class="mobile-menu">
  <div class="mobile-menu-box">
    <div class="mobile-menu-header">
      <h1>MENU</h1>
      <button type="button" id="closeMobileMenu">âœ•</button>
    </div>
    {% assign menu_handle = section.settings.menu %}
    <nav class="mobile-nav">
      {% for link in linklists[menu_handle].links %}
        {% if link.links != blank %}
          <div class="mobile-dropdown">
            <button type="button" class="mobile-dropdown-btn nav-button">
              <span class="menu-text">{{ link.title }}</span>

              <svg class="dropdown-icon" width="14" height="14" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M5.7 9.7a1 1 0 0 0 0 1.4l4.9 4.9a2 2 0 0 0 2.8 0l4.9-4.9a1 1 0 1 0-1.4-1.4l-4.1 4.1a.5.5 0 0 1-.7 0L7.1 9.7a1 1 0 0 0-1.4 0Z" fill="currentColor"/>
              </svg>
            </button>

            <div class="mobile-dropdown-content">
              {% for childlink in link.links %}
                <a href="{{ childlink.url }}" class="mobile-sublink">
                  {{ childlink.title }}
                </a>
              {% endfor %}
            </div>
          </div>
        {% else %}
          <a href="{{ link.url }}" class="mobile-link">
            {{ link.title }}
          </a>
        {% endif %}
      {% endfor %}
    </nav>
  </div>
</div>
{% schema %}
{
  "name": "Navigational Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "checkbox",
      "id": "sticky_header",
      "label": "Enable sticky header",
      "default": true
    },
    {
      "type": "text",
      "id": "header_title",
      "label": "Title",
      "default": "Store Name",
      "info": "This is the Title of the Menu",
      "placeholder": "Enter your header title"
    },

    {
      "type": "link_list",
      "id": "menu",
      "label": "Menu",
      "default": "main-menu"
    },
    {
      "type": "range",
      "id": "header_height",
      "label": "Header height",
      "min": 60,
      "max": 140,
      "step": 4,
      "default": 76,
      "unit": "px"
    },

    {
      "type": "range",
      "id": "logo_width",
      "label": "Logo max width",
      "min": 80,
      "max": 300,
      "step": 4,
      "default": 148,
      "unit": "px"
    },
    {
      "type": "checkbox",
      "id": "header_shadow",
      "label": "Enable header shadow",
      "default": true
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "hover_color",
      "label": "Hover Color",
      "default": "#555555"
    },
    {
      "type": "checkbox",
      "id": "show_account_links",
      "label": "Show Login/Register",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_cart",
      "label": "Show Cart Icon",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "Header"
    }
  ]
}
{% endschema %}
